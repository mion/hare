// Generated by CoffeeScript 1.12.6
(function() {
  var Button, CardList, addButton, bug, cardList, clusterButton, clusterMaker, leftmost, tasksQueue;

  Framer.Extras.Hints.disable();

  clusterMaker = require("clusters");

  Button = require('./button');

  CardList = require('./card_list');

  tasksQueue = [];

  console.log(JSON);

  bug = function(things) {
    return _.forEach(things, function(thing) {
      return console.log(thing);
    });
  };

  addButton = new Button("plus");

  clusterButton = new Button("box", addButton);

  cardList = new CardList();

  cardList.restore();

  addButton.onTap(function() {
    var task;
    task = _.isEmpty(tasksQueue) ? prompt("What's the task?") : tasksQueue.pop();
    if (task !== null) {
      return cardList.add(task);
    }
  });

  clusterButton.onTap(function() {
    return cardList.cluster();
  });

  leftmost = function(layers) {
    return _.head(_.sortBy(layers, function(l) {
      return l.x;
    }));
  };

}).call(this);
